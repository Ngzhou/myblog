---
title: pdmç³»ç»Ÿæ¡†æ¶ä»‹ç»åŠå¼€å‘æ€»ç»“
comments: true
date: 2019-06-26 10:05:01
tags:
- react
categories:
- WEBå‰ç«¯
author: jun.zhou
---

# ä¸€ã€Reactç®¡ç†ç³»ç»Ÿæ¡†æ¶

#### React-dva:
Reactåç«¯ç®¡ç†ç³»ç»Ÿåº”ç”¨æ¯”è¾ƒå¤šçš„æ˜¯dvaæ¡†æ¶
é€šè¿‡ reducers, effects å’Œ subscriptions ç»„ç»‡ model,ç®€åŒ– redux.
å®˜ç½‘ï¼š[https://dvajs.com](https://dvajs.com)

#### Dva-cli:
Dvaè„šæ‰‹æ¶å®‰è£…ç®€æ˜“ä¾¿æ·ã€ä½¿ç”¨æ–¹ä¾¿
uiåº“ï¼šantd
åœ°å€ï¼š[https://github.com/dvajs/dva-cli](https://github.com/dvajs/dva-cli)

#### React-dvaå·¥ä½œåŸç†ä»‹ç»:

![](https://img.fengjr.com/image/2019/06/26/175b3d3b97ce0c843944d9e63cb96379.png)

æˆ‘ç®€å•çš„åˆ†æä¸€ä¸‹è¿™ä¸ªå›¾ï¼š

é¦–å…ˆæˆ‘ä»¬æ ¹æ® url è®¿é—®ç›¸å…³çš„ Route-Componentï¼Œåœ¨ç»„ä»¶ä¸­æˆ‘ä»¬é€šè¿‡ dispatch å‘é€ action åˆ° model é‡Œé¢çš„ effect æˆ–è€…ç›´æ¥ Reducer

å½“æˆ‘ä»¬å°†actionå‘é€ç»™Effectï¼ŒåŸºæœ¬ä¸Šæ˜¯å–æœåŠ¡å™¨ä¸Šé¢è¯·æ±‚æ•°æ®çš„ï¼ŒæœåŠ¡å™¨è¿”å›æ•°æ®ä¹‹åï¼Œeffect ä¼šå‘é€ç›¸åº”çš„ action ç»™ reducerï¼Œç”±å”¯ä¸€èƒ½æ”¹å˜ state çš„ reducer æ”¹å˜ state ï¼Œç„¶åé€šè¿‡connecté‡æ–°æ¸²æŸ“ç»„ä»¶ã€‚

å½“æˆ‘ä»¬å°†actionå‘é€ç»™reducerï¼Œé‚£ç›´æ¥ç”± reducer æ”¹å˜ stateï¼Œç„¶åé€šè¿‡ connect é‡æ–°æ¸²æŸ“ç»„ä»¶ã€‚
è¿™æ ·æˆ‘ä»¬å°±èƒ½èµ°å®Œä¸€ä¸ªæµç¨‹äº†ã€‚

#### React-admin:
å“åº”å¼æ”¯æŒpc+ç§»åŠ¨ç«¯,redux-alitaæç®€çš„redux2reactå·¥å…·
è„šæ‰‹æ¶ï¼šcreact-react-app
ç»„ä»¶ï¼šantdã€echarts

<font color="red">*ä¹‹å‰ç§»åŠ¨ç«¯ç”¨çš„æ¯”è¾ƒå¤šçš„reactè„šæ‰‹æ¶æ˜¯creact-react-appï¼Œè€ŒReact-adminæ¡†æ¶ä¹Ÿæ˜¯åŸºäºè¿™å¼€å‘çš„ï¼›uiç»„ä»¶åº“ä¸pdmç³»ç»Ÿéœ€æ±‚ä¹Ÿæ¯”è¾ƒå»åˆï¼Œæ‰€ä»¥æœ€åæˆ‘ä»¬é€‰ç”¨è¿™å¥—æ¡†æ¶ã€‚*</font>
[GitHubåœ°å€](https://github.com/yezihaohao/react-admin) [é¢„è§ˆåœ°å€](https://admiring-dijkstra-34cb29.netlify.com/#/login)

# äºŒã€React-adminä»‹ç»

#### ä¾èµ–æ¨¡å—

é¡¹ç›®æ˜¯ç”¨create-react-appåˆ›å»ºçš„ï¼Œä¸»è¦è¿˜æ˜¯åˆ—å‡ºæ–°åŠ çš„åŠŸèƒ½ä¾èµ–åŒ…

- react-router(reactè·¯ç”±ï¼Œ4.xçš„ç‰ˆæœ¬ï¼Œå¦‚æœè¿˜ä½¿ç”¨3.xçš„ç‰ˆæœ¬ï¼Œè¯·åˆ‡æ¢åˆ†æ”¯ï¼ˆps:åˆ†æ”¯ä¸å†ç»´æŠ¤ï¼‰)
- redux(åŸºç¡€ç”¨æ³•ï¼Œä½†æ˜¯å°è£…äº†é€šç”¨actionå’Œreducerï¼Œdemoä¸­ä¸»è¦ç”¨äºæƒé™æ§åˆ¶ï¼ˆpsï¼šç›®å‰å¯ä»¥ç”¨16.xçš„context apiä»£æ›¿ï¼‰ï¼Œå¯ä»¥ç®€å•äº†è§£ä¸‹)
- antd(èš‚èšé‡‘æœå¼€æºçš„react uiç»„ä»¶æ¡†æ¶)
- axios(httpè¯·æ±‚æ¨¡å—ï¼Œå¯ç”¨äºå‰ç«¯ä»»ä½•åœºæ™¯ï¼Œå¾ˆå¼ºå¤§ğŸ‘)
- echarts-for-react(å¯è§†åŒ–å›¾è¡¨ï¼Œåˆ«äººåŸºäºreactå¯¹echartsçš„å°è£…ï¼Œè¶³å¤Ÿç”¨äº†)
- recharts(å¦ä¸€ä¸ªåŸºäºreactå°è£…çš„å›¾è¡¨ï¼Œä¸ªäººè§‰å¾—æ˜¯æ²¡æœ‰echartså¥½ç”¨)
- nprogress(é¡¶éƒ¨åŠ è½½æ¡ï¼Œè›®å¥½ç”¨ğŸ‘)
- react-draft-wysiwyg(åˆ«äººåŸºäºreactçš„å¯Œæ–‡æœ¬å°è£…ï¼Œå¦‚æœæ‰¾åˆ°å…¶ä»–æ›´å¥½çš„å¯ä»¥æ›¿æ¢)
- react-draggable(æ‹–æ‹½æ¨¡å—ï¼Œæ‰¾äº†ä¸ªç®€å•ç‰ˆçš„)
- screenfull(å…¨å±æ’ä»¶)
- photoswipe(å›¾ç‰‡å¼¹å±‚æŸ¥çœ‹æ’ä»¶ï¼Œä¸ä¾èµ–jQueryï¼Œè¿˜æ˜¯è›®å¥½ç”¨ğŸ‘)
- animate.css(cssåŠ¨ç”»åº“)
- react-loadable(ä»£ç æ‹†åˆ†ï¼ŒæŒ‰éœ€åŠ è½½ï¼Œé¢„åŠ è½½ï¼Œæ ·æ ·éƒ½è¡Œï¼Œå…·ä½“è§å…¶æ–‡æ¡£ï¼Œæ¨èä½¿ç”¨)
- redux-alita æç®€çš„redux2reactå·¥å…·

#### åŠŸèƒ½æ¨¡å—
å¤‡æ³¨ï¼šé¡¹ç›®åªå¼•å…¥äº†ant-designçš„éƒ¨åˆ†ç»„ä»¶ï¼Œå…¶ä»–çš„ç»„ä»¶antdå®˜ç½‘æœ‰æºç ï¼Œå¯ä»¥ç›´æ¥å¤åˆ¶åˆ°é¡¹ç›®ä¸­ä½¿ç”¨ï¼Œåç»­æœ‰æ—¶é—´è¡¥ä¸Šå…¨éƒ¨ç»„ä»¶ã€‚

é¡¹ç›®ä½¿ç”¨äº†antdçš„è‡ªå®šä¹‰ä¸»é¢˜åŠŸèƒ½-->é»‘è‰²ï¼Œè‹¥æƒ³æ›¿æ¢å…¶ä»–é¢œè‰²ï¼Œå…·ä½“æ“ä½œè¯·æŸ¥çœ‹antdå®˜ç½‘

- **é¦–é¡µ**
  å®Œæ•´å¸ƒå±€
  æ¢è‚¤(å…¨å±€åŠŸèƒ½ï¼Œæš‚æ—¶åªå®ç°äº†é¡¶éƒ¨å¯¼èˆªçš„æ¢è‚¤ï¼Œåç»­åŠ ä¸Šå…¶ä»–æ¨¡å—)
- **å¯¼èˆªèœå•**
  é¡¶éƒ¨å¯¼èˆª(èœå•ä¼¸ç¼©ï¼Œå…¨å±åŠŸèƒ½)
  å·¦è¾¹èœå•(å¢åŠ æ»šåŠ¨æ¡ä»¥åŠé€‚é…è·¯ç”±çš„activeæ“ä½œ)
- **UIæ¨¡å—**
  æŒ‰é’®(antdç»„ä»¶)
  å›¾æ ‡(antdç»„ä»¶å¹¶å¢åŠ å½©è‰²è¡¨æƒ…ç¬¦)
  åŠ è½½ä¸­(antdç»„ä»¶å¹¶å¢åŠ é¡¶éƒ¨åŠ è½½æ¡)
  é€šçŸ¥æé†’æ¡†(antdç»„ä»¶)
  æ ‡ç­¾é¡µ(antdç»„ä»¶)
  è½®æ’­å›¾(antåŠ¨æ•ˆç»„ä»¶)
  å¯Œæ–‡æœ¬
  æ‹–æ‹½
  ç”»å»Š
- **åŠ¨ç”»**
  åŸºç¡€åŠ¨ç”»(animate.cssæ‰€æœ‰åŠ¨ç”»)
  åŠ¨ç”»æ¡ˆä¾‹
- **è¡¨æ ¼**
  åŸºç¡€è¡¨æ ¼(antdç»„ä»¶)
  é«˜çº§è¡¨æ ¼(antdç»„ä»¶)
  å¼‚æ­¥è¡¨æ ¼(æ•°æ®æ¥è‡ªæ˜é‡‘é…±çš„æ¥å£)
- **è¡¨å•**
  åŸºç¡€è¡¨å•(antdç»„ä»¶)
- **å›¾è¡¨**
  echartså›¾è¡¨
  rechartså›¾è¡¨
- **é¡µé¢**
  ç™»å½•é¡µé¢(åŒ…æ‹¬GitHubç¬¬ä¸‰æ–¹ç™»å½•)
  404é¡µé¢

#### redux-alita api

React-adminæ¡†æ¶è‡ªå·±å°è£…äº†ä¸€å¥—reduxæ¨¡å—ï¼Œä¸»è¦æœ‰å››ä¸ªapi

- **AlitaProvider**
  provider component for root node
- **connectAlita**
  connect function (just prepared mapStateToProps and mapDispatchToProps)
- **setAlitaState**
  set redux data fucntion (after connect, you can use it in props)
  funcParams -> { funcName, params, stateName = funcName, data }
  only stateName and data for synchronous datas
  funcName, params for asynchronous fetch apis
- **setConfig**
  register fetch functions before fetch usage

# ä¸‰ã€Pdmå¼€å‘é‡åˆ°é—®é¢˜

å°è¯•åº”è¯¥ä¸€ä¸ªæ–°çš„æ¡†æ¶ï¼Œä¸å¯é¿å…çš„ä¼šé‡åˆ°ä¸€äº›å‘ã€‚

#### redux-alita åªèƒ½åœ¨ render(){} æ‰èƒ½è·å–åˆ°

![](https://img.fengjr.com/image/2019/06/26/7534292b0e555a5c94fd49502f1ac09e.png)

æ¡†æ¶å°è£…çš„reduxæ¨¡å—åœ¨ componentDidMount() é‡Œé¢å–ä¸åˆ°å€¼ï¼Œä¸çŸ¥é“ä¸ºå•¥ã€‚
è§£å†³åŠæ³•å°±æ˜¯åœ¨ render é‡Œå–ç„¶å å›è°ƒä¼ å€¼æ–¹å¼è°ƒç”¨ã€‚

#### æµè§ˆå™¨å¼€å¤šä¸ªçª—å£ç™»å½•ä¸åŒç”¨æˆ·æ•°æ®ä¸ç»Ÿä¸€

è§£å†³åŠæ³•: è·¯ç”±å˜åŒ–æ—¶å€™åŠ æ–°æ—§ç¼“å­˜idå¯¹æ¯”

![](https://img.fengjr.com/image/2019/06/26/b5f1d9368f7f7d87984aa55e1575495d.png)


#### é¦–é¡µechartså›¾æ ‡ç‚¹å‡»è¿›å…¥è¯¦æƒ…é¡µæ–¹æ³•
![](https://img.fengjr.com/image/2019/06/26/c42209b8960d56ee694142732a89cb73.png)

#### è§’è‰²æƒé™è®¾ç½®çº§åˆ«é—®é¢˜

æƒé™æ ‘ç»„ä»¶æœ‰çº§åˆ«åŒºåˆ†ï¼Œä½†æ¥å£è¿”å›æ²¡æœ‰çº§åˆ«
![](https://img.fengjr.com/image/2019/06/26/a6a6ef09e7bd4325ab17368c1373752a.png)
è§£å†³åŠæ³•ï¼šæäº¤æ—¶å€™å­˜å…¨éƒ¨ï¼Œæ¥å£è¿”å›æ—¶å€™å¤šè¿”ä¸€ä¸ªå­é›†ã€‚

#### è§’è‰²æƒé™è®¾ç½®çº§åˆ«é—®é¢˜
æƒé™æ ‘ç»„ä»¶æ ¹æ®å­é›†è·å–ç»„è£…å…¨éƒ¨çº§åˆ«æ–¹æ³•

![](https://img.fengjr.com/image/2019/06/26/0e36624b2a677235f79565ca40c43500.png)

#### Tableç»„ä»¶ç¼–è¾‘å¯è·å–åˆ°å…¨éƒ¨é™æ€æ•°æ®
ç‚¹ç¼–è¾‘æ—¶å€™è¯»ç¼“å­˜åˆ—è¡¨é‡Œçš„æ•°æ®ï¼Œä¸å¿…å¤šè°ƒç”¨ä¸€æ¬¡æ¥å£

![](https://img.fengjr.com/image/2019/06/26/06f371ab175c974f4a2bb3a22ce48ce2.png)

#### æ’å…¥å˜é‡è·å–æ–‡æœ¬æ¡†ç„¦ç‚¹ä½ç½®
å…ˆè·å–ç„¦ç‚¹å¯¹è±¡ï¼Œå†è·å–ç„¦ç‚¹ä½ç½®ï¼Œç„¶åé‡ç½®å€¼

![](https://img.fengjr.com/image/2019/06/26/c19a786faeade91068b557c040e37d1d.png)

# å››ã€æŠ€æœ¯è°ƒç ”

[umijs](https://umijs.org/zh/guide/) ä¸€ä¸ªæ¯”è¾ƒæ–°çš„æ¡†æ¶ï¼Œdvaè„šæ‰‹æ¶ä¹Ÿå°†å‘ umi é æ‹¢ã€‚

![](https://img.fengjr.com/image/2019/06/26/3b68313f58e61a2077795dbd3d471cdc.png)

çœ‹äº†ä¸€éå®˜æ–¹æ–‡æ¡£ï¼Œæ­å»ºäº†ä¸€ä¸ªå°é¡¹ç›®ï¼Œä¸ªäººæ„Ÿè§‰umiç¡®å®å¥½ç”¨ï¼Œæ›´æ–¹ä¾¿å¿«æ·çš„è„šæ‰‹æ¶ï¼Œå®Œå…¨å·¥ç¨‹åŒ–ã€‚







